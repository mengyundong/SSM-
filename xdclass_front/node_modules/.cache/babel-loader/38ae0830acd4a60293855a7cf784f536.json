{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js??ref--16-1!C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\src\\views\\Pay\\Pay.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\src\\views\\Pay\\Pay.vue","mtime":1588386810000},{"path":"C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1679311850098},{"path":"C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1679311851269},{"path":"C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1679311850098},{"path":"C:\\Users\\Administrator\\Desktop\\vue\\xdclass_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1679311852943}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxBZG1pbmlzdHJhdG9yXFxEZXNrdG9wXFx2dWVcXHhkY2xhc3NfZnJvbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRWaWRlb0RldGFpbCwgc2F2ZU9yZGVyIH0gZnJvbSAiQC9hcGkvZ2V0RGF0YS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlkZW9pbmZvOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6I635Y+W6KeG6aKR6K+m5oOFCiAgICBnZXREZXRhaWw6IGZ1bmN0aW9uIGdldERldGFpbCh2aWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldFZpZGVvRGV0YWlsKHZpZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy52aWRlb2luZm8gPSByZXN1bHQuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5LiL5Y2VCiAgICBwYXk6IGZ1bmN0aW9uIHBheSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzdWx0LCB0b2FzdCwgX3RvYXN0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHNhdmVPcmRlcihfdGhpczIuJHN0b3JlLnN0YXRlLnRva2VuLCBfdGhpczIuJHJvdXRlLnF1ZXJ5LnZpZGVvX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICB0b2FzdCA9IF90aGlzMi4kY3JlYXRlVG9hc3QoewogICAgICAgICAgICAgICAgICAgIHR4dDogIui0reS5sOaIkOWKnyIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImNvcnJlY3QiLAogICAgICAgICAgICAgICAgICAgIHRpbWU6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgb25UaW1lb3V0OiBmdW5jdGlvbiBvblRpbWVvdXQoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogIm9yZGVyIgogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdG9hc3Quc2hvdygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RvYXN0ID0gX3RoaXMyLiRjcmVhdGVUb2FzdCh7CiAgICAgICAgICAgICAgICAgICAgdHh0OiAi5LiL5Y2V5aSx6LSlIiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHRpbWU6IDE1MDAKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdG9hc3Quc2hvdygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERldGFpbCh0aGlzLiRyb3V0ZS5xdWVyeS52aWRlb19pZCk7CiAgfQp9Ow=="},{"version":3,"sources":["Pay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAAA,cAAA,EAAA,SAAA,QAAA,kBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,GAFA,EAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,cAAA,CAAA,GAAA,CAFA;;AAAA;AAEA,gBAAA,MAFA;;AAGA,oBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,SAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA;AACA;;AALA;AAAA;;AAAA;AAAA;AAAA;AAOA,gBAAA,OAAA,CAAA,GAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAXA;AAaA;AACA,IAAA,GAdA,iBAcA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,SAAA,CACA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KADA,EAEA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAFA,CAFA;;AAAA;AAEA,gBAAA,MAFA;;AAOA,oBAAA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,KADA,GACA,MAAA,CAAA,YAAA,CAAA;AACA,oBAAA,GAAA,EAAA,MADA;AAEA,oBAAA,IAAA,EAAA,SAFA;AAGA,oBAAA,IAAA,EAAA,IAHA;AAIA,oBAAA,SAAA,EAAA,qBAAA;AACA,sBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,wBAAA,IAAA,EAAA;AAAA,uBAAA;AACA;AANA,mBAAA,CADA;AASA,kBAAA,KAAA,CAAA,IAAA;AACA,iBAVA,MAUA;AACA,kBAAA,MADA,GACA,MAAA,CAAA,YAAA,CAAA;AACA,oBAAA,GAAA,EAAA,MADA;AAEA,oBAAA,IAAA,EAAA,OAFA;AAGA,oBAAA,IAAA,EAAA;AAHA,mBAAA,CADA;;AAMA,kBAAA,MAAA,CAAA,IAAA;AACA;;AAxBA;AAAA;;AAAA;AAAA;AAAA;AA0BA,gBAAA,OAAA,CAAA,GAAA;;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA;AA1CA,GANA;AAkDA,EAAA,OAlDA,qBAkDA;AACA,SAAA,SAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA;AApDA,CAAA","sourcesContent":["<template>\n  <div>\n    <!--视频信息-->\n    <div class=\"info\">\n      <p class=\"info_title\">商品信息</p>\n      <div class=\"box\">\n        <div class=\"imgdiv\">\n          <img alt=\"课程照片\" :src=\"videoinfo.cover_img\" />\n        </div>\n        <div class=\"textdiv\">\n          <p class=\"c_title\">{{videoinfo.title}}</p>\n          <p class=\"price\">￥:&nbsp;&nbsp; {{(videoinfo.price / 100).toFixed(2)}}</p>\n        </div>\n      </div>\n    </div>\n    <!--顶部支付-->\n    <div class=\"footer\">\n      <p class=\"money\">实付:&nbsp;&nbsp; {{(videoinfo.price / 100).toFixed(2)}}</p>\n      <p class=\"submit\" @click=\"pay\">立刻支付</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getVideoDetail, saveOrder } from \"@/api/getData.js\";\n\nexport default {\n  data() {\n    return {\n      videoinfo: {}\n    };\n  },\n  methods: {\n    //获取视频详情\n    async getDetail(vid) {\n      try {\n        const result = await getVideoDetail(vid);\n        if (result.data.code == 0) {\n          this.videoinfo = result.data.data;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    //下单\n    async pay() {\n      try {\n        const result = await saveOrder(\n          this.$store.state.token,\n          this.$route.query.video_id\n        );\n\n        if (result.data.code == 0) {\n          const toast = this.$createToast({\n            txt: \"购买成功\",\n            type: \"correct\",\n            time: 2000,\n            onTimeout: () => {\n              this.$router.push({ path: \"order\" });\n            }\n          });\n          toast.show();\n        }else{\n             const toast = this.$createToast({\n            txt: \"下单失败\",\n            type: \"error\",\n            time: 1500\n          });\n          toast.show();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  },\n  mounted() {\n    this.getDetail(this.$route.query.video_id);\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n// 视频标题\n.info_title {\n  padding: 10px 20px;\n  background-color: #fff;\n  border-bottom: 1px solid #d9dde1;\n}\n\n.box {\n  background-color: #fff;\n  box-sizing: border-box;\n  padding: 20px;\n  display: flex;\n  margin-bottom: 15px;\n  .imgdiv {\n    width: 105px;\n    height: 59px;\n    flex-shrink: 0;\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .textdiv {\n    margin-left: 20px;\n    height: 59px;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    .price {\n      flex-shrink: 0;\n    }\n  }\n}\n//底部\n.footer {\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  height: 50px;\n  background-color: #fff;\n  display: flex;\n  justify-content: space-between;\n  box-shadow: 0 -2px 4px 0 rgba(0, 0, 0, 0.1);\n  font-size: 16px;\n  .money {\n    height: 50px;\n    line-height: 50px;\n    flex: 2;\n    text-align: center;\n    background-color: #fff;\n  }\n  .submit {\n    height: 50px;\n    line-height: 50px;\n    flex: 1;\n    text-align: center;\n    background-color: #ff2d50;\n    color: #fff;\n  }\n}\n</style>"],"sourceRoot":"src/views/Pay"}]}